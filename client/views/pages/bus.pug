extends ../main
block content
	mixin transitLink(link, blank)
		a.transit-link(target=blank ? '_blank' : '', href=link.href)!= link.text
		br

	.col-12.bus#column
		table.primary#table: tr
			th(style="padding-right: 48px;"): +transitLink({ href: 'javascript:history.back()', text: '<i class="fas fa-arrow-left"></i>' })
			th: table.clock#table: tr.clock.row
				th.clock.cell#hour 12
				th.clock.cell#blink :
				th.clock.cell#minute 00
				th.clock.cell#ampm AM
		h3.weekend#sat(hidden) For Saturday service, please take the #[a(href='/bus/macewan/411/saturday') 411].
		h3.weekend#sun(hidden) For Sunday service, please take the #[a(href='/bus/macewan/411/sunday') 411].
		if data && data.route
			-
				let route = data.route;
				var number = route.split(' ')[0];
				var stationCode = number.split('')[1];
				var station = stationCode == 0 ? 'Ordze' : 'Bethel';
				var school = 'U of A';
				if (route.includes('NAIT')) school = 'NAIT';
				if (route.includes('day') || route.includes('MacEwan') || number.split('')[2] == 1) school = 'MacEwan';
				headTitle = `Route ${data.route} (${station} to ${school})`;
			title= headTitle
			h2.bus#title= headTitle
			p.bus.status.status1(id=station.toLowerCase() name=station)
			p.bus.status.status2(id=school.toLowerCase() name=school)
			center
				a.transit-link.small(target="_blank" href=data.pdf download) <i class="fas fa-download"></i>&nbsp;&nbsp;Download Strathcona County PDF
				br


		block bus
			center
				h1 Bus Schedules
				+transitLink({ href: 'uofa', text: 'U of A' })
				+transitLink({ href: 'macewan', text: 'MacEwan' })
				+transitLink({ href: 'nait/413', text: 'NAIT' })
				br
				+transitLink(data.transit.homepage, true)
				+transitLink(data.transit.detours, true)
				+transitLink(data.transit.app_android, true)
				+transitLink(data.transit.app_ios, true)
				br
				+transitLink(data.transit.map, true)
				img(src=data.transit.map.img style='width: 80%; border: 1px solid black')

		block manifest
			link(rel='manifest' href='/bus.manifest.json')

	script(src='/bus.js' type="text/javascript")