extends ../main
block content
	mixin transitLink(link)
		a(target='_blank' href=link.href): h3= link.text

	.col-12.bus#column
		table.clock#table: tr.clock.row
			th.clock.cell#hour 12
			th.clock.cell#blink :
			th.clock.cell#minute 00
			th.clock.cell#ampm AM
		h3.weekend#sat(hidden) For Saturday service, please take the #[a(href='/bus/macewan/411/saturday') 411].
		h3.weekend#sun(hidden) For Sunday service, please take the #[a(href='/bus/macewan/411/sunday') 411].
		if data && data.route
			-
				let route = data.route;
				var number = route.split(' ')[0];
				var stationCode = number.split('')[1];
				var station = stationCode == 0 ? 'Ordze' : 'Bethel';
				var school = 'U of A';
				if (route.includes('NAIT')) school = 'NAIT';
				if (route.includes('day') || route.includes('MacEwan') || number.split('')[2] == 1) school = 'MacEwan';
				headTitle = `Route ${data.route} (${station} to ${school})`;
			title= headTitle
			h2.bus#title= headTitle
			p.bus.status.status1(id=station.toLowerCase() name=station)
			p.bus.status.status2(id=school.toLowerCase() name=school)
			p: a(target="_blank" href=data.pdf download) Download Strathcona County PDF


		block bus
			center
				h1 Bus Schedules
				a(href='uofa'): h2= 'U of A'
				a(href='macewan'): h2= 'MacEwan'
				a(href='nait/413'): h2= 'NAIT'
				br
				+transitLink(data.transit.homepage)
				+transitLink(data.transit.detours)
				+transitLink(data.transit.app_android)
				+transitLink(data.transit.app_ios)
				br
				+transitLink(data.transit.map)
				img(src=data.transit.map.img style='width: 80%; border: 1px solid black')

	script(src='/bus.js' type="text/javascript")